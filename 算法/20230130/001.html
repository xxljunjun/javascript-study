<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
            给你一个字符串 s ，根据下述规则反转字符串：
            所有非英文字母保留在原有位置。
            所有英文字母（小写或大写）位置反转。
            返回反转后的 s 。

            示例 1：
            输入：s = "ab-cd"
            输出："dc-ba"
            示例 2：

            输入：s = "a-bC-dEf-ghIj"
            输出："j-Ih-gfE-dCba"
            
            示例 3：

            输入：s = "Test1ng-Leet=code-Q!"
            输出："Qedo1ct-eeLg=ntse-T!"
        */
      /**
       * @param {string} s
       * @return {string}
       */
      var reverseOnlyLetters = function (s) {
        //思路1：先把字符串变成数组，zai写正则判断是否是字母
        //思路二：记录每一个不是字母的字符的位置
        //思路三:
        // let reg = /[a-zA-Z]/   
        // let reverseArr = []
        // let arr = s.split('')
        // arr.forEach(val=>{
        //     reverseArr.unshift(val)
        // })
        // let needArr = []
        // console.log('arr',arr)
        // console.log('reverseArr',reverseArr)
        // arr.forEach((val,idx)=>{
        //     // console.log('>>>',reg.test(val))
        //     if(!reg.test(val)){
        //         //关键：再插入进去idx
        //         console.log(val)
        //         needArr.push(val)
        //     }else{
        //         // console.log('reverseArr[idx]',reverseArr[idx])
        //         // needArr.push(reverseArr[idx])
        //     }
        // })
        // console.log('needArr>>>',needArr)

        //思路三:记录位置，去除符号后反转，添加进去
        
        // let reg = /[a-zA-Z]/
        // let arr = s.split('')
        // let numberArr = []
        // let reverseArr = []
        // arr.forEach((val,idx)=>{
        //     if(!reg.test(val)){
        //         numberArr.push(idx)
        //     }
        // })
        // let needArr = arr.filter(val=>{
        //     return reg.test(val)
        // }).reverse()
        // numberArr.forEach(val=>{
        //     console.log(val)
        //     if(val==0){
        //         needArr.unshift(arr[val])
        //     }else{
        //         if(arr[val]){
        //             needArr.splice(val,0,arr[val])
        //         }
        //     }
        // })
        // console.log('needArr',needArr.join(''))
        // return needArr.join('')


        let rules = /[a-zA-Z]/
        // 存储需要逆转的数组
        let arr = []
        // 原数组
        let curArr = s.split("")
        for(let i = 0;i<curArr.length;i++){
            if(rules.test(curArr[i])){
                arr.push(curArr[i])
            }
        }
        console.log('>>>arr',arr)
        console.log('>>>curArr',curArr)
        // 替换插入 
        for(let i = 0;i<curArr.length;i++){
            if(rules.test(curArr[i])){
                curArr[i] = arr.pop()
            }
        }
        return curArr.join("")
       
      };
      console.log(reverseOnlyLetters("a-bC-dEf-ghIj"))
    </script>
  </body>
</html>
