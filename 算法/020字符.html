<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /**
 * @param {string} S
 * @return {string}
 */
// var compressString = function(S) {
//     let strArr = S.split('')
//     console.log(strArr)
//     let map = new Map()
//     let newArr = []
//     let str = ''
//     for(let i = 0;i<strArr.length;i++){
//         map.set(strArr[i],map.get(strArr[i])?map.get(strArr[i])+1:1)
//         if(newArr.indexOf(strArr[i]) == -1){
//             newArr.push(strArr[i])
//         }
//     }
//     console.log(newArr)
//     for(let i = 0;i<newArr.length;i++){
//         str+=newArr[i]+map.get(newArr[i])
//     }
//     // return S.length >=str.length?str:S
//     return str

// };
// console.log(compressString("aabcccccaa"))

var compressString = function(S) {
    let str = ''
    let j = 1
    for(let i = 0;i<S.length;i++){
        str+=S[i]
        while(S[i] == S[i+1]){
            i++
            j++
        }
        str+=j.toString()
        j = 1
    }
    return str.length>S.length?S:str

};
console.log(compressString("aabcccccaa"))
    </script>
</body>
</html>