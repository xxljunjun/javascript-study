<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>闭包</title>
</head>

<body>
	<script>
		/*
			闭包
				==>是能够读取其他函数内部变量的函数。(定义在一个函数内部的函数)
					作用：1、一个是前面提到的可以读取函数内部的变量
						 2、另一个就是让这些变量的值始终保持在内存中。
		*/
		//经典闭包
		function f1() {
			var n = 999;
			function f2() {
				alert(n);
			}
			return f2;

		}
		var result = f1();
		result(); // 999

		var name = "The Window";

		var object = {
			name: "My Object",

			getNameFunc: function () {
				return function () {
					return this.name;
				};

			}

		};

		alert(object.getNameFunc()());

		var name = "The Window";

		var object = {
			name: "My Object",

			getNameFunc: function () {
				var that = this;
				return function () {
					return that.name;
				};

			}

		};

		alert(object.getNameFunc()());

		for (var i = 0; i < 5; i++) {
			(function (j) {
				setTimeout(function () {
					console.log(j);
				}, 1000)
			})(i)
		}
	</script>
</body>

</html>